<span id='plusclick' class='glyphicon glyphicon-plus'></span>

  <tabset justified="true" id='modalbar' class='shown'>
    
    <tab heading="Resource Flows">
      <tabset justified="true" id='resourceType' type='pills'>
        <tab heading="ENERGY"></tab>
        <tab heading="WATER">
          <div id="viz">
          <pie-chart val="data"></pie-chart>
          </div>
          <div style="height: 50%">This is archetype information</div>
        </tab>
        <tab heading="MATERIALS"></tab>
        <tab heading="FOOD"></tab>
        <tab heading="MOBILITY"></tab>
      </tabset>
    </tab>
    <tab heading="Citizen Surveys">I'm the Data</tab>
    <tab heading="Environmental"></tab>
    <tab heading="Socioeconomic"></tab>
    <tab heading="EcoProjects"></tab>
<!--     <tab heading="Layer Info" active='true'>
        <ul style="overflow-y: scroll; max-height: 250px !important;">
        <li ng-repeat="layer in layerDefs" style="padding-left: 20px; padding-right: 20px; margin-top: 15px padding-bottom: 15px;">
          <strong>{{layer.name}}</strong> {{layer.description}}
        </li>
        </ul>
    </tab> -->
    <!-- <tab ng-repeat="tab in tabs" heading="{{tab.title}}" active="tab.active" disabled="tab.disabled">
      {{tab.content}}
    </tab> -->
 
  </tabset>

<!-- <script type="text/javascript">
 
  var width = 200,
  height = 200,
  radius = Math.min(width, height) / 2,
  color = d3.scale.category10();

  var svg = d3.select('#viz').append("svg")
            .attr("width", width)
            .attr("height", height)
            //What is append g here for.
          .append("g")
            .attr("transform", "translate(" + width / 2 + "," + height * .52 + ")");
//What does this partition do.
  var partition = d3.layout.partition()
      .sort(null)
      .size([2 * Math.PI, radius * radius])
      .value(function(d) { return 1; });

  var arc = d3.svg.arc()
      .startAngle(function(d) {return d.x; })
      .endAngle(function(d) {return d.x + d.dx; })
      .innerRadius(function(d) { return Math.sqrt(d.y); })
      .outerRadius(function(d) { return Math.sqrt(d.y + d.dy); });
  d3.json('/data/d3/test', function(error, root) {
    console.log(root);
    var path = svg.datum(root).selectAll("path")
        .data(partition.nodes)
      .enter().append("path")
        .attr("display", function(d) { return d.depth ? null: "none"; }) //hide inner ring
        .attr("d", arc)
        .style("stroke", "#fff")
        .style("fill", function(d) { return color((d.children ? d : d.parent).name); })
        .style("fill-rule", "evenodd")
        .each(stash);
    d3.selectAll("input").on("change", function change() {
      var value = this.value === "count"
          ? function() { return 1; }
          : function(d) { return d.size; };

      path
          .data(partition.value(value).nodes)
        .transition()
          .duration(1500)
          .attrTween("d", arcTween);
    });
  });

  function stash(d) {
    d.x0 = d.x;
    d.dx0 = d.dx;
  }

  function arcTween(a){
    var i = d3.interpolate({x: a.x0, dx: a.dx0}, a);
    return function(t) {
      var b = i(t);
      a.x0 = b.x;
      a.dx0 = b.dx;
      return arc(b);
    };
  }

  d3.select(self.frameElement).style("height", height + "px");
</script> -->